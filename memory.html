<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Memory Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .memory-card {
            width: 100px;
            height: 100px;
            perspective: 1000px;
            cursor: pointer;
        }
        .memory-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .memory-card.flipped .memory-inner {
            transform: rotateY(180deg);
        }
        .memory-front, .memory-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .memory-front {
            background: linear-gradient(135deg, #f9a8d4 0%, #f472b6 100%);
            transform: rotateY(180deg);
        }
        .memory-back {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);
            color: white;
            font-size: 2rem;
        }
        .memory-card.matched {
            opacity: 0.5;
            cursor: default;
        }
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .celebrate {
            animation: celebrate 0.5s ease-in-out;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-pink-200 to-purple-300">
    <nav class="bg-white bg-opacity-80 shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <div class="flex items-center py-4 px-2">
                        <span class="font-semibold text-pink-600 text-lg">Memory Game</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-1">
                    <a href="index.html" class="py-4 px-2 text-gray-500 hover:text-pink-600 transition duration-300">Home</a>
                    <a href="cake.html" class="py-4 px-2 text-gray-500 hover:text-pink-600 transition duration-300">Cut Cake</a>
                    <a href="memory.html" class="py-4 px-2 text-pink-600 border-b-4 border-pink-600 font-semibold">Memory Game</a>
                    <a href="messages.html" class="py-4 px-2 text-gray-500 hover:text-pink-600 transition duration-300">Messages</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-pink-700 mb-2">Birthday Memory Game</h1>
            <p class="text-lg text-gray-700">Find all matching pairs to win!</p>
        </div>

        <div class="flex justify-center mb-8">
            <div class="bg-white bg-opacity-80 rounded-lg shadow-md p-4 inline-block">
                <div class="flex space-x-6">
                    <div class="text-center">
                        <p class="text-sm text-gray-600">Moves</p>
                        <p id="moves" class="text-2xl font-bold text-pink-600">0</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-600">Pairs Found</p>
                        <p id="pairs" class="text-2xl font-bold text-purple-600">0/8</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-600">Time</p>
                        <p id="timer" class="text-2xl font-bold text-blue-600">00:00</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="game-board" class="grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-md mx-auto mb-8">
            <!-- Cards will be generated by JavaScript -->
        </div>

        <div id="win-message" class="hidden bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto text-center">
            <h2 class="text-2xl font-bold text-purple-700 mb-2">You Won! ðŸŽ‰</h2>
            <p class="text-gray-700 mb-4">You found all pairs in <span id="final-moves">0</span> moves and <span id="final-time">00:00</span>!</p>
            <button id="play-again" class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-full transition duration-300">
                Play Again
            </button>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game setup
            const cardImages = [
                'ðŸŽ‚', 'ðŸŽ', 'ðŸŽˆ', 'ðŸŽ‰',
                'ðŸ°', 'ðŸ¥³', 'ðŸŽŠ', 'â¤ï¸'
            ];

            
            // Duplicate to create pairs
            const cards = [...cardImages, ...cardImages];
            
            // Game state
            let hasFlippedCard = false;
            let lockBoard = false;
            let firstCard, secondCard;
            let moves = 0;
            let pairsFound = 0;
            let seconds = 0;
            let timer;
            
            // DOM elements
            const gameBoard = document.getElementById('game-board');
            const movesDisplay = document.getElementById('moves');
            const pairsDisplay = document.getElementById('pairs');
            const timerDisplay = document.getElementById('timer');
            const winMessage = document.getElementById('win-message');
            const finalMoves = document.getElementById('final-moves');
            const finalTime = document.getElementById('final-time');
            const playAgainBtn = document.getElementById('play-again');
            
            // Initialize game
            initGame();
            
            function initGame() {
                // Reset game state
                hasFlippedCard = false;
                lockBoard = false;
                firstCard = null;
                secondCard = null;
                moves = 0;
                pairsFound = 0;
                seconds = 0;
                
                // Update displays
                movesDisplay.textContent = moves;
                pairsDisplay.textContent = `${pairsFound}/${cardImages.length}`;
                updateTimer();
                
                // Clear board
                gameBoard.innerHTML = '';
                
                // Hide win message
                winMessage.classList.add('hidden');
                
                // Shuffle cards
                shuffleCards();
                
                // Create cards
                cards.forEach((emoji, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.dataset.emoji = emoji;
                    card.dataset.index = index;
                    
                    const cardInner = document.createElement('div');
                    cardInner.className = 'memory-inner';
                    
                    const cardFront = document.createElement('div');
                    cardFront.className = 'memory-front';
                    cardFront.textContent = emoji;
                    
                    const cardBack = document.createElement('div');
                    cardBack.className = 'memory-back';
                    cardBack.innerHTML = '<i class="fas fa-question"></i>';
                    
                    cardInner.appendChild(cardFront);
                    cardInner.appendChild(cardBack);
                    card.appendChild(cardInner);
                    
                    card.addEventListener('click', flipCard);
                    gameBoard.appendChild(card);
                });
                
                // Start timer
                clearInterval(timer);
                timer = setInterval(incrementTimer, 1000);
            }
            
            function shuffleCards() {
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }
            }
            
            function flipCard() {
                if (lockBoard) return;
                if (this === firstCard) return;
                if (this.classList.contains('matched')) return;
                
                this.classList.add('flipped');
                
                if (!hasFlippedCard) {
                    // First card flipped
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }
                
                // Second card flipped
                secondCard = this;
                moves++;
                movesDisplay.textContent = moves;
                
                checkForMatch();
            }
            
            function checkForMatch() {
                const isMatch = firstCard.dataset.emoji === secondCard.dataset.emoji;
                
                if (isMatch) {
                    disableCards();
                    pairsFound++;
                    pairsDisplay.textContent = `${pairsFound}/${cardImages.length}`;
                    
                    // Check if game is won
                    if (pairsFound === cardImages.length) {
                        clearInterval(timer);
                        setTimeout(showWinMessage, 1000);
                    }
                } else {
                    unflipCards();
                }
            }
            
            function disableCards() {
                firstCard.classList.add('matched');
                secondCard.classList.add('matched');
                firstCard.classList.add('celebrate');
                secondCard.classList.add('celebrate');
                
                setTimeout(() => {
                    firstCard.classList.remove('celebrate');
                    secondCard.classList.remove('celebrate');
                }, 500);
                
                resetBoard();
            }
            
            function unflipCards() {
                lockBoard = true;
                
                setTimeout(() => {
                    firstCard.classList.remove('flipped');
                    secondCard.classList.remove('flipped');
                    
                    resetBoard();
                }, 1000);
            }
            
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
            }
            
            function incrementTimer() {
                seconds++;
                updateTimer();
            }
            
            function updateTimer() {
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            }
            
            function showWinMessage() {
                finalMoves.textContent = moves;
                finalTime.textContent = timerDisplay.textContent;
                winMessage.classList.remove('hidden');
                
                // Create confetti effect
                for (let i = 0; i < 50; i++) {
                    createConfetti();
                }
            }
            
            function createConfetti() {
                const confetti = document.createElement('div');
                confetti.className = 'absolute w-2 h-2 rounded-full';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = -10 + 'px';
                confetti.style.zIndex = '1000';
                
                document.body.appendChild(confetti);
                
                const animationDuration = Math.random() * 3 + 2;
                
                confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(100vh) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: animationDuration * 1000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.9, 1)'
                });
                
                setTimeout(() => {
                    confetti.remove();
                }, animationDuration * 1000);
            }
            
            playAgainBtn.addEventListener('click', initGame);
        });
    </script>
</body>
</html>